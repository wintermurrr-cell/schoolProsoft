     1                                   
     2                                  global _start; Объявляем точку входа _start глобальной для линковщика
     3                                  
     4                                  section .data; Секция данных (инициализированные данные)
     5                                  
     6 00000000 48656C6C6F20776F72-     message db "Hello world!",10 ; Сообщение которое будем выводить "Hello world!", с переходом на новую строку(10)
     6 00000009 6C64210A           
     7                                  length equ $ - message ; Считаем автоматически длину строки
     8                                  
     9 0000000D 616E206572726F7220-     error_msg db "an error occurred while executing the program",10 ; Сообщение которое будем выводить при ошибке "во время выполнения программы произошла ошибка", с переходом на новую строку(10)
     9 00000016 6F6363757272656420-
     9 0000001F 7768696C6520657865-
     9 00000028 637574696E67207468-
     9 00000031 652070726F6772616D-
     9 0000003A 0A                 
    10                                  error_msg_length equ $ - error_msg ; Считаем автоматически длину строки
    11                                  
    12 0000003B 74787400                filename db "txt",0 ; Имя текстового файла
    13                                  
    14                                  section .text ; Секция кода - исполняемая программа
    15                                  _start: ; Точка входа программы
    16 00000000 B801010000              mov rax, 257 ; Номер системного вызова openat
    17 00000005 48C7C79CFFFFFF          mov rdi, -100 ; Специальный файловый дескриптор AT_FDCWD (-100) - текущая директория
    18 0000000C 48BE-                   mov rsi, filename ; Имя создаваемого текстового файла
    18 0000000E [3B00000000000000] 
    19 00000016 BA65000000              mov rdx, 101 ; Флаги доступа: O_CREAT | O_WRONLY
    20 0000001B 41BAB6010000            mov r10, 666q ; суффикс q помечает число для восьмеричной системы счисления
    21 00000021 0F05                    syscall ; Выполняем системный вызов создания и открытия файла
    22                                  
    23 00000023 4883F800                cmp rax, 0 ; Сравниваем возвращаемое значение с 0
    24 00000027 7C3E                    jl error_end ; Если отрицательное - ошибка
    25                                  
    26 00000029 4889C7                  mov rdi, rax ; В rdi будет помещен файловый дескриптор, куда следует поместить информацию при вызове write
    27 0000002C B801000000              mov rax, 1 ; номер системного вызова вывода (write)
    28 00000031 48BE-                   mov rsi, message ; указатель на строку "Hello world!"
    28 00000033 [0000000000000000] 
    29 0000003B BA0D000000              mov rdx, length ; длина строки для записи
    30 00000040 0F05                    syscall ; Выполняем системный вызов записи в файл
    31                                  
    32 00000042 4883F800                cmp rax, 0 ; Сравниваем возвращаемое значение с 0
    33 00000046 7C1F                    jl error_end ; Если отрицательное - ошибка
    34                                  
    35 00000048 4883F80D                cmp rax,length ; Сравниваем возвращенное значение с длинной
    36 0000004C 7519                    jnz error_end ; Если они не равны, то возвращаем ошибку
    37                                  
    38 0000004E B803000000              mov rax, 3  ; номер системного вызова close(закрытие)
    39 00000053 0F05                    syscall ; Системный вызов  для закрытие файла
    40                                  
    41 00000055 4883F800                cmp rax, 0 ; Сравниваем возвращаемое значение с 0
    42 00000059 7C0C                    jl error_end ; Если отрицательное - ошибка
    43                                  
    44 0000005B B83C000000              mov rax, 60 ; номер системного вызова выход (exit)
    45 00000060 BF00000000              mov rdi, 0 ; код возврата 0 (успешное)
    46 00000065 0F05                    syscall ; Системный вызов exit (успешное завершение)
    47                                  
    48                                  error_end: ; Вывод сообщения об ошибке
    49 00000067 B801000000              mov rax, 1 ; Системный вызов write (вывод)
    50 0000006C BF02000000              mov rdi, 2 ; Дескриптор файла stderr (стандартный вывод ошибок)
    51 00000071 48BE-                   mov rsi, error_msg ; Адрес сообщения об ошибке
    51 00000073 [0D00000000000000] 
    52 0000007B BA2E000000              mov rdx, error_msg_length ; Длина сообщения об ошибке
    53 00000080 0F05                    syscall ;  Системный вызов вывода сообщения об ошибке
    54                                  
    55 00000082 B83C000000              mov rax, 60 ; Системный вызов exit
    56 00000087 BF01000000              mov rdi, 1 ; Код ошибки
    57 0000008C 0F05                    syscall ; Вызов системной функции выход с кодом ошибки
